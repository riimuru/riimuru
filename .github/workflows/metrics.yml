# This is a basic workflow to help you get started with Actions

name: Metrics (rem)

# Controls when the workflow will run
on:
  schedule: 
    - cron: "0 1-5 * * *" # every one hour
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          filename: metrics.svg
          template: terminal
          base: header, metadata
          plugin_languages: yes
          plugin_traffic: yes
          plugin_languages_indepth: yes
          plugin_topics: yes
          plugin_topics_mode: icons
          plugin_topics_limit: 12
          token: ${{ secrets.METRICS_TOKEN }}
          
  build:
      runs-on: ubuntu-latest
      name: generate-github-3d-contrib
      steps:
        - uses: actions/checkout@v2
        - uses: yoshi389111/github-profile-3d-contrib@0.4.0
          env:
            USERNAME: ${{ github.repository_owner }}
            GITHUB_TOKEN: ${{ secrets.METRICS_TOKEN }}
        - name: Commit & Push
          run: |
            git config user.name riimuru
            git config user.email mythhb@yahoo.com
            git add -A .
            git commit -m "Generated: Update README"
            git push -f
          
        
        

